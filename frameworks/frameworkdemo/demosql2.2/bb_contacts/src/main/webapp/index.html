<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            #contact-form { margin-bottom: 2em; }
        </style>
    </head>
    <body>
        <h1>Менежжер контактов.</h1> 

        <form id="addContact">
            <div>
                <label for="first_name">Имя: </label>
                <input type="text" id="first_name" name="first_name">
            </div>
            <div>
                <label for="last_name">Фамилия: </label>
                <input type="text" id="last_name" name="last_name">
            </div>
            <div>
                <label for="email_address">Email: </label>
                <input type="text" id="email_address" name="email_address">
            </div>
            <div>
                <label for="description">Описание: </label>
                <textarea id="description" name="description"></textarea>
            </div>
            <div>
                <input type="submit" value="Добавить контакт">
            </div>
        </form>	

        <table id="allContacts">
            <thead>
                <tr>
                    <td><strong>Имя</strong></td>
                    <td><strong>Фамилия</strong></td>
                    <td><strong>Email</strong></td>
                    <td><strong>Описание</strong></td>
                    <td><strong>Действия</strong></td>
                </tr>
            </thead>
        </table>



        <script id="contactTemplate" type="text/template">
            <td>{{ first_name }}</td>
            <td>{{ last_name }}</td>
            <td>{{ email_address}}</td>
            <td>{{ description }}</td>
            <td>
                <a href="#contacts/{{id}}/edit" class="edit">Редактировать</a>
                <a href="#contacts/{{id}}" class="delete">Удалить</a>
            </td>
        </script>


        <script id="editContactTpl" type="text/template">
            <h2>Редактирование контакта: {{last_name}} {{first_name}}</h2>
            <form  id="edit-contact-form">
            <div>
            <label for="edit_first_name">Имя:</label>
            <input type="text" id="edit_first_name" name="edit_first_name" value="{{first_name}}">
            </div>
            <div>
            <label for="edit_last_name">Фамилия:</label>
            <input type="text" id="edit_last_name" name="edit_last_name" value="{{last_name}}"> 
            </div>
            <div>
            <label for="edit_email_address">Email:</label>
            <input type="text" id="edit_email_address" name="edit_email_address" value="{{email_address}}">
            </div>
            <div>
            <label for="edit_description">Описание:</label>
            <textarea id="edit_description" name="edit_description">{{description}}</textarea>
            </div>
            <div>
            <input type="submit" value="Сохранить изменения.">
            <button type="button" class="cancel">Отмена</button>
            </div>
            </form>

        </script>

        <div class="editContact">
		
	</div>



        <script src="js/jquery-1.12.0.min.js"></script>
        <script src="js/underscore.js"></script>
        <script src="js/backbone.js"></script>
        <script src="js/handlebars.js"></script>
        <script src="js/main.js"></script>	
        <script src="js/models.js"></script>	
        <script src="js/collections.js"></script>	
        <script src="js/views.js"></script>	
        <script src="js/router.js"></script>

        <script>
new App.Router();
Backbone.history.start();

App.contacts = new App.Collections.Contacts();
App.contacts.fetch().then(function () {
    new App.Views.App({collection: App.contacts});
});

        </script>


    </body>
</html>
